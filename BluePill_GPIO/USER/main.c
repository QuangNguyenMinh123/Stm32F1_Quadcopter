#include "GPIO.h"
#include "UART.h"
#include "CLOCK.h"
#include "I2C.h"
#include "math.h"
#include "MPU6050.h"
#include "EX_EEPROM.h"
#include "PID.h"
/*******************************************************************************
 * Definitions
 ******************************************************************************/

/*******************************************************************************
 * Prototypes
 ******************************************************************************/
void System_Init(void);
/*******************************************************************************
 * Variables
 ******************************************************************************/
unsigned uint32_t loop_timer = 0U;
/*******************************************************************************
 * Code
 ******************************************************************************/

int main(void) {
	System_Init();
	while (1) {
		loop_timer = micros();
		MPU6050_getPara();
		MPU6050_CalculateAngle();
		while (micros() - loop_timer < 4000);
	}
}

void System_Init(void) {
	CLOCK_SystickInit();
	I2C2_Init(I2C_SPEED_100);
	MPU6050_Init();
	MPU6050_Calibration();
}
